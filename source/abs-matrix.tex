%!TEX root = io2d.tex
\rSec0 [\iotwod.absmatrix] {Class template \tcode{basic_figure_items<GraphicsSurfaces>::abs_matrix}}

\rSec1 [\iotwod.absmatrix.intro] {Overview}

\pnum
\indexlibrary{\idxcode{abs_matrix}}%
The class template \tcode{basic_figure_items<GraphicsSurfaces>::abs_matrix} describes a figure item that is a path command.

\pnum
It has a transform matrix of type \tcode{basic_matrix_2d<GraphicsSurfaces::graphics_math_type>}.

\pnum
The data are stored in an object of type \tcode{typename GraphicsSurfaces::paths::abs_matrix_data_type}. It is accessible using the \tcode{data} member functions.

\rSec1 [\iotwod.absmatrix.synopsis] {Synopsis}
\begin{codeblock}
namespace std::experimental::io2d::v1 {
  template <class GraphicsSurfaces>
  class basic_figure_items<GraphicsSurfaces>::abs_matrix {
  public:
    using graphics_math_type = typename GraphicsSurfaces::graphics_math_type;
    using data_type =
      typename GraphicsSurfaces::paths::abs_matrix_data_type;

    // \ref{\iotwod.absmatrix.ctor}, construct:
    abs_matrix();
    explicit abs_matrix(const basic_matrix_2d<graphics_math_type>& m) noexcept;
    abs_matrix(const abs_matrix& other) = default;
    abs_matrix(abs_matrix&& other) noexcept = default;

    // assign:
    abs_matrix& operator=(const abs_matrix& other) = default;
    abs_matrix& operator=(abs_matrix&& other) noexcept = default;

    // \ref{\iotwod.absmatrix.acc}, accessors:
    const data_type& data() const noexcept;
    data_type& data() noexcept;

    // \ref{\iotwod.absmatrix.mod}, modifiers:
    void matrix(const basic_matrix_2d<graphics_math_type>& m) noexcept;

    // \ref{\iotwod.absmatrix.obs}, observers:
    basic_matrix_2d<graphics_math_type> matrix() const noexcept;
  };
  
  // \ref{\iotwod.absmatrix.eq}, equality operators:
  template <class GraphicsSurfaces>
  bool operator==(
    const typename basic_figure_items<GraphicsSurfaces>::abs_matrix& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::abs_matrix& rhs) 
    noexcept;  
  template <class GraphicsSurfaces>
  bool operator!=(
    const typename basic_figure_items<GraphicsSurfaces>::abs_matrix& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::abs_matrix& rhs) 
    noexcept;  
}
\end{codeblock}

\rSec1 [\iotwod.absmatrix.ctor] {Constructors}%

\indexlibrary{\idxcode{abs_matrix}!constructor}%
\begin{itemdecl}
abs_matrix() noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\effects Constructs an \tcode{abs_matrix} object.

\pnum
\postconditions \tcode{data() == GraphicsSurfaces::paths::create_abs_matrix()}.

\pnum
\remarks The transform matrix is \tcode{basic_matrix_2d<graphics_math_type()}.
\end{itemdescr}

\indexlibrary{\idxcode{abs_matrix}!constructor}%
\begin{itemdecl}
explicit abs_matrix(const basic_matrix_2d<graphics_math_type>& m) noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\requires \tcode{m.is_invertible()} is \tcode{true}.

\pnum
\effects Constructs an \tcode{abs_matrix} object.

\pnum
\postconditions \tcode{data() == GraphicsSurfaces::paths::create_abs_matrix(m)}.

\pnum
\remarks The transform matrix is \tcode{m}.
\end{itemdescr}

\rSec1 [\iotwod.absmatrix.acc] {Accessors}%

\indexlibrarymember{data}{abs_matrix}%
\begin{itemdecl}
const data_type& data() const noexcept;
data_type& data() noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\returns A reference to the \tcode{abs_matrix} object's data object (See: \ref{\iotwod.absmatrix.intro}).
\end{itemdescr}

\rSec1 [\iotwod.absmatrix.mod] {Modifiers}%

\indexlibrarymember{matrix}{abs_matrix}%
\begin{itemdecl}
void matrix(const basic_matrix_2d<tgraphics_math_type>& m) noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\requires \tcode{m.is_invertible()} is \tcode{true}.

\pnum
\effects The transform matrix is \tcode{m}.
\end{itemdescr}

\rSec1 [\iotwod.absmatrix.obs]{Observers}%

\indexlibrarymember{matrix}{abs_matrix}%
\begin{itemdecl}
basic_matrix_2d<typename GraphicsSurfaces::graphics_math_type> matrix() const noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\returns The transform matrix.
\end{itemdescr}

\rSec1 [\iotwod.absmatrix.eq] {Equality operators}%

\indexlibrarymember{operator==}{abs_matrix}%
\begin{itemdecl}
template <class GraphicsSurfaces>
bool operator==(
  const typename basic_figure_items<GraphicsSurfaces>::abs_matrix& lhs,
  const typename basic_figure_items<GraphicsSurfaces>::abs_matrix& rhs)
  noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\returns \tcode{lhs.matrix() == rhs.matrix()}.
\end{itemdescr}

\indexlibrarymember{operator!=}{abs_matrix}%
\begin{itemdecl}
template <class GraphicsSurfaces>
bool operator!=(
  const typename basic_figure_items<GraphicsSurfaces>::abs_matrix& lhs,
  const typename basic_figure_items<GraphicsSurfaces>::abs_matrix& rhs)
  noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\returns \tcode{lhs.matrix() != rhs.matrix()}.
\end{itemdescr}
