%!TEX root = io2d.tex
\rSec0 [\iotwoderrorcategory] {Class \tcode{io2d_error_category}}

\rSec1 [\iotwoderrorcategory.synopsis] {\tcode{io2d_error_category} 
synopsis}

\begin{codeblock}
namespace std { namespace experimental { namespace io2d { inline namespace v1 {
  class io2d_error_category : public std::error_category {
  public:
    // \ref{\iotwoderrorcategory.observers}, observers:
    virtual const char* name() const noexcept override;
    virtual string message(int errVal) const override;
    virtual bool equivalent(int code,
      const error_condition& condition) const noexcept override;
    virtual bool equivalent(const error_code& ec,
      int condition) const noexcept override;
  };
  
  // \ref{\iotwoderrorcategory.nonmembers}, non-member functions:
  const error_category& io2d_category() noexcept;
} } }

  error_condition make_error_condition(
    experimental::io2d::io2d_error e) noexcept;
  error_code make_error_code(experimental::io2d::io2d_error e) noexcept;
}
\end{codeblock}

\rSec1 [\iotwoderrorcategory.intro] {\tcode{io2d_error_category} 
Description}

\pnum
\indexlibrary{\idxcode{io2d_error_category}}
The \tcode{io2d_error_category} class derives from 
\tcode{error_category} in order to provide a custom error category for 
use by this library.

\rSec1 [\iotwoderrorcategory.observers] {\tcode{io2d_error_category} 
observers}

\indexlibrary{\idxcode{io2d_error_category}!\idxcode{name}}
\indexlibrary{\idxcode{name}!\idxcode{io2d_error_category}}
\begin{itemdecl}
virtual const char* name() const noexcept override;
\end{itemdecl}
\begin{itemdescr}
	\pnum
	\returns
	A pointer to the string \tcode{''io2d''}.
\end{itemdescr}

\indexlibrary{\idxcode{io2d_error_category}!\idxcode{message}}
\indexlibrary{\idxcode{message}!\idxcode{io2d_error_category}}
\begin{itemdecl}
virtual string message(int errVal) const override;
\end{itemdecl}
\begin{itemdescr}
	\pnum
	\returns
	When \tcode{errVal} has the same value as the integer value of an 
	\tcode{io2d_error} enumerator, the corresponding meaning text in 
	Table~\ref{tab:\iotwoderror.meanings} shall be part of the 
	\tcode{string} returned by this function for that value. If there is no 
	corresponding enumerator, the return value is 
	\impldef{io2d_error_category!message}.
	\enternote
	When \tcode{errVal} has the same value as the integer value of an 
	\tcode{io2d_error} enumerator, implementations should include any 
	additional meaningful diagnostic information in the \tcode{string} returned 
	by this function. When no equivalent value enumerator exists, 
	implementations should return string diagnostic information provided by the 
	underlying rendering and presentation technologies as well as any 
	additional meaningful diagnostic information in the \tcode{string} returned 
	by this function.
	\exitnote
	
\end{itemdescr}

\indexlibrary{\idxcode{io2d_error_category}!\idxcode{equivalent}}
\indexlibrary{\idxcode{equivalent}!\idxcode{io2d_error_category}}
\begin{itemdecl}
virtual bool equivalent(int code,
  const error_condition& condition) const noexcept override;
\end{itemdecl}
\begin{itemdescr}
	\pnum
	\returns
	True if \tcode{condition.category() == *this} and the \impldef{\tcode{io2d_error_category}!\tcode{equivalent}} error code value \tcode{code} equates to \tcode{static_cast<io2d_error>(condition.value())}.
	\enternote
	Because of the variations in rendering and presentation technologies 
	available for use on different platforms, the issue of equivalence between 
	error codes and error conditions is one that must be determined by 
	implementors.
	\exitnote
\end{itemdescr}
\begin{itemdecl}
virtual bool equivalent(const error_code& ec,
  int condition) const noexcept override;
\end{itemdecl}
\begin{itemdescr}
	\pnum
	\returns
	True if \tcode{ec.category() == *this} and the \impldef{\tcode{io2d_error_category}!\tcode{equivalent}} error code value in\\ \tcode{ec.value} equates to \tcode{static_cast<io2d_error>(condition)}.
	\enternote
	Because of the variations in rendering and presentation technologies 
	available for use on different platforms, the issue of equivalence between 
	error codes and error conditions is one that must be determined by 
	implementors.
	\exitnote
\end{itemdescr}

\rSec1 [\iotwoderrorcategory.nonmembers] {\tcode{io2d_error_category} 
non-member functions}

\indexlibrary{\idxcode{io2d_category}}
\begin{itemdecl}
  const error_category& io2d_category() noexcept;
\end{itemdecl}
\begin{itemdescr}
	\pnum
	\returns
	A reference to an object of a type derived from \tcode{error_category}. All 
	calls to this function shall return references to the same object.
	
	\pnum
	\remarks
	The object's \tcode{default_error_condition} virtual function shall behave 
	as specified for the class \tcode{error_category}. The object's 
	\tcode{message} and \tcode{equivalent} 
	virtual functions shall behave as specified for the class 
	\tcode{io2d_error_category}. The object's \tcode{name} virtual function 
	shall return a pointer to the string \tcode{''io2d''}.
\end{itemdescr}

\indexlibrary{\idxcode{make_error_condition}}
\begin{itemdecl}
error_condition make_error_condition(experimental::io2d::io2d_error e) noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\returns
\tcode{error_condition(static_cast<int>(e), experimental::io2d::io2d_category());}.
\end{itemdescr}

\indexlibrary{\idxcode{make_error_code}}
\begin{itemdecl}
error_code make_error_code(experimental::io2d::io2d_error e) noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\returns
\tcode{error_code(static_cast<int>(e), experimental::io2d::io2d_category());}.
\end{itemdescr}
