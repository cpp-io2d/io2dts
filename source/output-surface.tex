%!TEX root = io2d.tex
\rSec0 [\iotwod.outputsurface] {Class \tcode{basic_output_surface}}

\rSec1 [\iotwod.outputsurface.summary] {\tcode{basic_output_surface} summary}

\pnum
\indexlibrary{\idxcode{basic_output_surface}}%
<TODO>

\rSec1 [\iotwod.outputsurface.synopsis] {\tcode{basic_output_surface} synopsis}

\begin{codeblock}
namespace std::experimental::io2d::v1 {
  template <class GraphicsSurfaces>
  class basic_output_surface {
  public:
    using graphics_math_type = typename GraphicsSurfaces::graphics_math_type;

    // \ref{\iotwod.outputsurface.cons}, constructors:
    basic_output_surface(int preferredWidth, int preferredHeight, io2d::format preferredFormat,
      io2d::scaling scl = io2d::scaling::letterbox,
      io2d::refresh_style rr = io2d::refresh_style::as_fast_as_possible, float fps = 30.0f);
    basic_output_surface(int preferredWidth, int preferredHeight, io2d::format preferredFormat,
      error_code& ec, io2d::scaling scl = io2d::scaling::letterbox,
      io2d::refresh_style rr = io2d::refresh_style::as_fast_as_possible, float fps = 30.0f)
      noexcept;
    basic_output_surface(int preferredWidth, int preferredHeight, io2d::format preferredFormat,
      int preferredDisplayWidth, int preferredDisplayHeight,
      io2d::scaling scl = io2d::scaling::letterbox,
      io2d::refresh_style rr = io2d::refresh_style::as_fast_as_possible, float fps = 30.0f);
    basic_output_surface(int preferredWidth, int preferredHeight, io2d::format preferredFormat,
      int preferredDisplayWidth, int preferredDisplayHeight, error_code& ec,
      io2d::scaling scl = io2d::scaling::letterbox,
      io2d::refresh_style rr = io2d::refresh_style::as_fast_as_possible, float fps = 30.0f)
      noexcept;
	
    // \ref{\iotwod.outputsurface.observers}, observers:
    io2d::format format() const noexcept;
    basic_display_point<graphics_math_type> dimensions() const noexcept;
    basic_display_point<graphics_math_type> max_dimensions() const noexcept;
    basic_display_point<graphics_math_type> display_dimensions() const noexcept;
    basic_display_point<graphics_math_type> max_display_dimensions() const noexcept;
    io2d::scaling scaling() const noexcept;
    optional<basic_brush<GraphicsSurfaces>> letterbox_brush() const noexcept;
    optional<basic_brush_props<GraphicsSurfaces>> letterbox_brush_props() const noexcept;
    bool auto_clear() const noexcept;

    // \ref{\iotwod.outputsurface.mofifiers}, modifiers:
    int begin_show();
    void end_show();
    void clear();
    void flush();
    void flush(error_code& ec) noexcept;
    void mark_dirty();
    void mark_dirty(error_code& ec) noexcept;
    void mark_dirty(const basic_bounding_box<graphics_math_type>& extents);
    void mark_dirty(const basic_bounding_box<graphics_math_type>& extents, error_code& ec)
      noexcept;
    void paint(const basic_brush<GraphicsSurfaces>& b,
      const optional<basic_brush_props<GraphicsSurfaces>>& bp = nullopt,
      const optional<basic_render_props<GraphicsSurfaces>>& rp = nullopt,
      const optional<basic_clip_props<GraphicsSurfaces>>& cl = nullopt);
    template <class Allocator>
    void stroke(const basic_brush<GraphicsSurfaces>& b,
      const basic_path_builder<GraphicsSurfaces, Allocator>& pb,
      const optional<basic_brush_props<GraphicsSurfaces>>& bp = nullopt,
      const optional<basic_stroke_props<GraphicsSurfaces>>& sp = nullopt,
      const optional<basic_dashes<GraphicsSurfaces>>& d = nullopt,
      const optional<basic_render_props<GraphicsSurfaces>>& rp = nullopt,
      const optional<basic_clip_props<GraphicsSurfaces>>& cl = nullopt);
    void stroke(const basic_brush<GraphicsSurfaces>& b,
      const basic_interpreted_path<GraphicsSurfaces>& ip,
      const optional<basic_brush_props<GraphicsSurfaces>>& bp = nullopt,
      const optional<basic_stroke_props<GraphicsSurfaces>>& sp = nullopt,
      const optional<basic_dashes<GraphicsSurfaces>>& d = nullopt,
      const optional<basic_render_props<GraphicsSurfaces>>& rp = nullopt,
      const optional<basic_clip_props<GraphicsSurfaces>>& cl = nullopt);
    template <class Allocator>
    void fill(const basic_brush<GraphicsSurfaces>& b,
      const basic_path_builder<GraphicsSurfaces, Allocator>& pb,
      const optional<basic_brush_props<GraphicsSurfaces>>& bp = nullopt,
      const optional<basic_render_props<GraphicsSurfaces>>& rp = nullopt,
      const optional<basic_clip_props<GraphicsSurfaces>>& cl = nullopt);
    void fill(const basic_brush<GraphicsSurfaces>& b,
      const basic_interpreted_path<GraphicsSurfaces>& ip,
      const optional<basic_brush_props<GraphicsSurfaces>>& bp = nullopt,
      const optional<basic_render_props<GraphicsSurfaces>>& rp = nullopt,
      const optional<basic_clip_props<GraphicsSurfaces>>& cl = nullopt);
    void mask(const basic_brush<GraphicsSurfaces>& b,
      const basic_brush<GraphicsSurfaces>& mb,
      const optional<basic_brush_props<GraphicsSurfaces>>& bp = nullopt,
      const optional<basic_mask_props<GraphicsSurfaces>>& mp = nullopt,
      const optional<basic_render_props<GraphicsSurfaces>>& rp = nullopt,
      const optional<basic_clip_props<GraphicsSurfaces>>& cl = nullopt);
    void draw_callback(const function<void(basic_output_surface& sfc)>& fn);
    void size_change_callback(const function<void(basic_output_surface& sfc)>& fn);
    void dimensions(basic_display_point<graphics_math_type> dp);
    void dimensions(basic_display_point<graphics_math_type> dp, error_code& ec) noexcept;
    void display_dimensions(basic_display_point<graphics_math_type> dp);
    void display_dimensions(basic_display_point<graphics_math_type> dp, error_code& ec) noexcept;
    void scaling(io2d::scaling scl) noexcept;
    void user_scaling_callback(const
      function<basic_bounding_box<graphics_math_type>(const basic_output_surface&, bool&)>& fn);
    void letterbox_brush(const optional<basic_brush<GraphicsSurfaces>>& b,
      const optional<basic_brush_props<GraphicsSurfaces>>& bp = nullopt) noexcept;
    void letterbox_brush_props(const optional<basic_brush_props<GraphicsSurfaces>>& bp) noexcept;
    void auto_clear(bool val) noexcept;
    void redraw_required(bool val = true) noexcept;
  };
}
\end{codeblock}

\rSec1 [\iotwod.outputsurface.cons] {\tcode{basic_output_surface} constructors}

\indexlibrary{\idxcode{basic_output_surface}!constructor}%
\begin{itemdecl}
basic_output_surface(int preferredWidth, int preferredHeight, io2d::format preferredFormat,
  io2d::scaling scl = io2d::scaling::letterbox,
  io2d::refresh_style rr = io2d::refresh_style::as_fast_as_possible, float fps = 30.0f);
basic_output_surface(int preferredWidth, int preferredHeight, io2d::format preferredFormat,
  error_code& ec, io2d::scaling scl = io2d::scaling::letterbox,
  io2d::refresh_style rr = io2d::refresh_style::as_fast_as_possible, float fps = 30.0f)
  noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
<TODO>
\end{itemdescr}

\indexlibrary{\idxcode{basic_output_surface}!constructor}%
\begin{itemdecl}
basic_output_surface(int preferredWidth, int preferredHeight, io2d::format preferredFormat,
  int preferredDisplayWidth, int preferredDisplayHeight,
  io2d::scaling scl = io2d::scaling::letterbox,
  io2d::refresh_style rr = io2d::refresh_style::as_fast_as_possible, float fps = 30.0f);
basic_output_surface(int preferredWidth, int preferredHeight,
  io2d::format preferredFormat, int preferredDisplayWidth, int preferredDisplayHeight,
  error_code& ec, io2d::scaling scl = io2d::scaling::letterbox,
  io2d::refresh_style rr = io2d::refresh_style::as_fast_as_possible, float fps = 30.0f)
  noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
<TODO>
\end{itemdescr}

\rSec1 [\iotwod.outputsurface.observers] {\tcode{basic_output_surface} observers}

\indexlibrarymember{format}{basic_output_surface}%
\begin{itemdecl}
io2d::format format() const noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\returns
<TODO>
\end{itemdescr}

\indexlibrarymember{dimensions}{basic_output_surface}%
\begin{itemdecl}
basic_display_point<graphics_math_type> dimensions() const noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\returns
<TODO>
\end{itemdescr}

\indexlibrarymember{max_dimensions}{basic_output_surface}%
\begin{itemdecl}
basic_display_point<graphics_math_type> max_dimensions() const noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\returns
<TODO>
\end{itemdescr}

\indexlibrarymember{display_dimensions}{basic_output_surface}%
\begin{itemdecl}
basic_display_point<graphics_math_type> display_dimensions() const noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\returns
<TODO>
\end{itemdescr}

\indexlibrarymember{max_display_dimensions}{basic_output_surface}%
\begin{itemdecl}
basic_display_point<graphics_math_type> max_display_dimensions() const noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\returns
<TODO>
\end{itemdescr}

\indexlibrarymember{scaling}{basic_output_surface}%
\begin{itemdecl}
io2d::scaling scaling() const noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\returns
<TODO>
\end{itemdescr}

\indexlibrarymember{letterbox_brush}{basic_output_surface}%
\begin{itemdecl}
optional<basic_brush<GraphicsSurfaces>> letterbox_brush() const noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\returns
<TODO>
\end{itemdescr}

\indexlibrarymember{letterbox_brush_props}{basic_output_surface}%
\begin{itemdecl}
optional<basic_brush_props<GraphicsSurfaces>> letterbox_brush_props() const noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\returns
<TODO>
\end{itemdescr}

\indexlibrarymember{auto}{basic_output_surface}%
\begin{itemdecl}
bool auto_clear() const noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\returns
<TODO>
\end{itemdescr}

\rSec1 [\iotwod.outputsurface.mofifiers] {\tcode{basic_output_surface} modifiers}

\indexlibrarymember{begin_show}{basic_output_surface}%
\begin{itemdecl}
int begin_show();
\end{itemdecl}
\begin{itemdescr}
\pnum
\effects
<TODO>
\end{itemdescr}

\indexlibrarymember{end_show}{basic_output_surface}%
\begin{itemdecl}
void end_show();
\end{itemdecl}
\begin{itemdescr}
\pnum
\effects
<TODO>
\end{itemdescr}

\indexlibrarymember{clear}{basic_output_surface}%
\begin{itemdecl}
void clear();
\end{itemdecl}
\begin{itemdescr}
\pnum
\effects
<TODO>
\end{itemdescr}

\indexlibrarymember{flush}{basic_output_surface}%
\begin{itemdecl}
void flush();
void flush(error_code& ec) noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\effects
<TODO>
\end{itemdescr}

\indexlibrarymember{mark_dirty}{basic_output_surface}%
\begin{itemdecl}
void mark_dirty();
void mark_dirty(error_code& ec) noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\effects
<TODO>
\end{itemdescr}

\indexlibrarymember{mark_dirty}{basic_output_surface}%
\begin{itemdecl}
void mark_dirty(const basic_bounding_box<graphics_math_type>& extents);
void mark_dirty(const basic_bounding_box<graphics_math_type>& extents, error_code& ec) noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\effects
<TODO>
\end{itemdescr}

\indexlibrarymember{paint}{basic_output_surface}%
\begin{itemdecl}
void paint(const basic_brush<GraphicsSurfaces>& b,
  const optional<basic_brush_props<GraphicsSurfaces>>& bp = nullopt,
  const optional<basic_render_props<GraphicsSurfaces>>& rp = nullopt,
  const optional<basic_clip_props<GraphicsSurfaces>>& cl = nullopt);
\end{itemdecl}
\begin{itemdescr}
\pnum
\effects
<TODO>
\end{itemdescr}

\indexlibrarymember{stroke}{basic_output_surface}%
\begin{itemdecl}
template <class Allocator>
void stroke(const basic_brush<GraphicsSurfaces>& b,
  const basic_path_builder<GraphicsSurfaces, Allocator>& pb,
  const optional<basic_brush_props<GraphicsSurfaces>>& bp = nullopt,
  const optional<basic_stroke_props<GraphicsSurfaces>>& sp = nullopt,
  const optional<basic_dashes<GraphicsSurfaces>>& d = nullopt,
  const optional<basic_render_props<GraphicsSurfaces>>& rp = nullopt,
  const optional<basic_clip_props<GraphicsSurfaces>>& cl = nullopt);
\end{itemdecl}
\begin{itemdescr}
\pnum
\effects
<TODO>
\end{itemdescr}

\indexlibrarymember{stroke}{basic_output_surface}%
\begin{itemdecl}
void stroke(const basic_brush<GraphicsSurfaces>& b,
  const basic_interpreted_path<GraphicsSurfaces>& ip,
  const optional<basic_brush_props<GraphicsSurfaces>>& bp = nullopt,
  const optional<basic_stroke_props<GraphicsSurfaces>>& sp = nullopt,
  const optional<basic_dashes<GraphicsSurfaces>>& d = nullopt,
  const optional<basic_render_props<GraphicsSurfaces>>& rp = nullopt,
  const optional<basic_clip_props<GraphicsSurfaces>>& cl = nullopt);
\end{itemdecl}
\begin{itemdescr}
\pnum
\effects
<TODO>
\end{itemdescr}

\indexlibrarymember{fill}{basic_output_surface}%
\begin{itemdecl}
template <class Allocator>
void fill(const basic_brush<GraphicsSurfaces>& b,
  const basic_path_builder<GraphicsSurfaces, Allocator>& pb,
  const optional<basic_brush_props<GraphicsSurfaces>>& bp = nullopt,
  const optional<basic_render_props<GraphicsSurfaces>>& rp = nullopt,
  const optional<basic_clip_props<GraphicsSurfaces>>& cl = nullopt);
\end{itemdecl}
\begin{itemdescr}
\pnum
\effects
<TODO>
\end{itemdescr}

\indexlibrarymember{fill}{basic_output_surface}%
\begin{itemdecl}
void fill(const basic_brush<GraphicsSurfaces>& b,
  const basic_interpreted_path<GraphicsSurfaces>& ip,
  const optional<basic_brush_props<GraphicsSurfaces>>& bp = nullopt,
  const optional<basic_render_props<GraphicsSurfaces>>& rp = nullopt,
  const optional<basic_clip_props<GraphicsSurfaces>>& cl = nullopt);
\end{itemdecl}
\begin{itemdescr}
\pnum
\effects
<TODO>
\end{itemdescr}

\indexlibrarymember{mask}{basic_output_surface}%
\begin{itemdecl}
void mask(const basic_brush<GraphicsSurfaces>& b,
  const basic_brush<GraphicsSurfaces>& mb,
  const optional<basic_brush_props<GraphicsSurfaces>>& bp = nullopt,
  const optional<basic_mask_props<GraphicsSurfaces>>& mp = nullopt,
  const optional<basic_render_props<GraphicsSurfaces>>& rp = nullopt,
  const optional<basic_clip_props<GraphicsSurfaces>>& cl = nullopt);
\end{itemdecl}
\begin{itemdescr}
\pnum
\effects
<TODO>
\end{itemdescr}

\indexlibrarymember{draw_callback}{basic_output_surface}%
\begin{itemdecl}
void draw_callback(const function<void(basic_output_surface& sfc)>& fn);
\end{itemdecl}
\begin{itemdescr}
\pnum
\effects
<TODO>
\end{itemdescr}

\indexlibrarymember{size_change_callback}{basic_output_surface}%
\begin{itemdecl}
void size_change_callback(const function<void(basic_output_surface& sfc)>& fn);
\end{itemdecl}
\begin{itemdescr}
\pnum
\effects
<TODO>
\end{itemdescr}

\indexlibrarymember{dimensions}{basic_output_surface}%
\begin{itemdecl}
void dimensions(basic_display_point<graphics_math_type> dp);
void dimensions(basic_display_point<graphics_math_type> dp, error_code& ec) noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\effects
<TODO>
\end{itemdescr}

\indexlibrarymember{display_dimensions}{basic_output_surface}%
\begin{itemdecl}
void display_dimensions(basic_display_point<graphics_math_type> dp);
void display_dimensions(basic_display_point<graphics_math_type> dp, error_code& ec) noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\effects
<TODO>
\end{itemdescr}

\indexlibrarymember{scaling}{basic_output_surface}%
\begin{itemdecl}
void scaling(io2d::scaling scl) noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\effects
<TODO>
\end{itemdescr}

\indexlibrarymember{user_scaling_callback}{basic_output_surface}%
\begin{itemdecl}
void user_scaling_callback(const
  function<basic_bounding_box<graphics_math_type>(const basic_output_surface&, bool&)>& fn);
\end{itemdecl}
\begin{itemdescr}
\pnum
\effects
<TODO>
\end{itemdescr}

\indexlibrarymember{letterbox_brush}{basic_output_surface}%
\begin{itemdecl}
void letterbox_brush(const optional<basic_brush<GraphicsSurfaces>>& b,
  const optional<basic_brush_props<GraphicsSurfaces>>& bp = nullopt) noexcept;
void letterbox_brush_props(const optional<basic_brush_props<GraphicsSurfaces>>& bp) noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\effects
<TODO>
\end{itemdescr}

\indexlibrarymember{auto_clear}{basic_output_surface}%
\begin{itemdecl}
void auto_clear(bool val) noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\effects
<TODO>
\end{itemdescr}

\indexlibrarymember{redraw_required}{basic_output_surface}%
\begin{itemdecl}
void redraw_required(bool val = true) noexcept;
\end{itemdecl}
\begin{itemdescr}
\pnum
\effects
<TODO>
\end{itemdescr}