%!TEX root = io2d.tex

\rSec0 [\iotwod.brushes] {Brushes}

\rSec1 [\iotwod.brushes.intro] {Overview of brushes}

\pnum
Brushes contain visual data and serve as sources of visual data for rendering and composing operations.

\pnum
There are four types of brushes:
\begin{itemize}
	\item solid color;
	\item linear gradient;
	\item radial gradient; and,
	\item surface.
\end{itemize}

\pnum
Once a brush is created, its visual data is immutable.

\pnum
\begin{note}
While copy and move operations along with a swap operation can change the visual data that a brush contains, the visual data itself is not modified.
\end{note}

\pnum
A brush is used either as a \term{source brush} or a \term{mask brush} (\ref{\iotwod.surface.rendering.brushes}).

\pnum
When a brush is used in a rendering and composing operation, if it is used as a source brush, it has a \tcode{brush_props} object that describes how the brush is interpreted for purposes of sampling. If it is used as a mask brush, it has a \tcode{mask_props} object that describes how the brush is interpreted for purposes of sampling.

\pnum
The \tcode{basic_brush_props} (\ref{\iotwod.brushprops.summary}) and \tcode{basic_mask_props} (\ref{\iotwod.maskprops.summary}) classes each have a \term{wrap mode} and a \term{filter}. The \tcode{basic_brush_props} class also has a \term{brush matrix} and a \term{fill rule}. The \tcode{basic_mask_props} class also has a \term{mask matrix}. Where possible, the terms that are common between the two classes are referenced without regard to whether the brush is being used as a source brush or a mask brush.

%\pnum
%A brush has its own coordinate space.
%
%\pnum
%If it is being used as a source brush, it is the Brush Coordinate Space (\ref{\iotwod.surface.coordinatespaces}).
%
%\pnum
%If it is being used as a mask brush, it is the Mask Coordinate Space (\ref{\iotwod.surface.coordinatespaces}).
%
%\pnum
%It possesses a \tcode{filter} value and a \tcode{wrap_mode} value, which combine to determine the visual data value returned when a composing operation samples a brush.
%
%\pnum
%The \tcode{filter} value determines the value returned by a brush when a composing operation samples a brush. When the visual data of the brush is a pixmap and the point the composing operation requests does not directly correspond to the exact coordinate of a pixel within the pixmap, the \tcode{filter} value is used to determine the value of the visual data that is returned. If the visual data of the brush is not a pixmap, the \tcode{filter} value is irrelevant.
%
%\pnum
%The \tcode{wrap_mode} value controls what happens when a composing operation needs to sample from a point that is outside of the bounds of the brush.
%
\pnum
Solid color brushes are unbounded and as such always produce the same visual data when sampled from, regardless of the requested point.

\pnum
Linear gradient and radial gradient brushes share similarities with each other that are not shared by the other types of brushes. This is discussed in more detail elsewhere (\ref{\iotwod.gradients}).

\pnum
Surface brushes are constructed from a \tcode{basic_image_surface} object. Their visual data is a pixmap, which has implications on sampling from the brush that are not present in the other brush types.

\addtocounter{SectionDepthBase}{1}
\input{gradients}
\input{wrap-mode}
\input{filter}
\input{brush-type}
\input{color-stop}
%\input{mesh-patch}
\input{brush}
\addtocounter{SectionDepthBase}{-1}
