%!TEX root = io2d.tex
\rSec0 [radialbrushfact] {Class \tcode{radial_brush_factory}}

\rSec1 [radialbrushfact.synopsis] {\tcode{radial_brush_factory} synopsis}

\begin{codeblock}
namespace std { namespace experimental { namespace io2d { inline namespace v1 {
  class radial_brush_factory {
  public:
    // \ref{radialbrushfact.cons}, construct/copy/move/destroy:
    radial_brush_factory() noexcept;
    radial_brush_factory(const radial_brush_factory&);
    radial_brush_factory& operator=(const radial_brush_factory&);
    radial_brush_factory(radial_brush_factory&& other) noexcept;
    radial_brush_factory& operator=(radial_brush_factory&& other) noexcept;
    radial_brush_factory(const vector_2d& center0, double radius0,
      const vector_2d& center1, double radius1) noexcept;

    // \ref{radialbrushfact.modifiers}, modifiers:
    void add_color_stop(double offset, const rgba_color& color);
    void add_color_stop(double offset, const rgba_color& color,
      error_code& ec) noexcept;
    void color_stop(unsigned int index, double offset, const rgba_color& color);
    void color_stop(unsigned int index, double offset, const rgba_color& color,
      error_code& ec) noexcept;
    void radial_circles(const vector_2d& center0, double radius0,
      const vector_2d& center1, double radius1) noexcept;

    // \ref{radialbrushfact.observers}, observers:
    unsigned int color_stop_count() const noexcept;
    tuple<double, rgba_color> color_stop(unsigned int index) const;
    tuple<double, rgba_color> color_stop(unsigned int index,
      error_code& ec) const noexcept;
    tuple<vector_2d, double, vector_2d, double> radial_circles() const noexcept;

  private:
    vector_2d _Center0;                             // \expos
    double _Radius0;                                // \expos
    vector_2d _Center1;                             // \expos
    double _Radius1;                                // \expos
    vector<tuple<double, rgba_color>> _Color_stops; // \expos
  };
} } } }
\end{codeblock}

\rSec1 [radialbrushfact.intro] {\tcode{radial_brush_factory} Description}

\pnum
\indexlibrary{\idxcode{radial_brush_factory}}
The class \tcode{radial_brush_factory} describes a mutable factory for creating \tcode{brush} objects with a radial gradient describing its color and alpha data.

\pnum
For more information about gradients, including radial gradients, see \ref{gradients}.

\rSec1 [radialbrushfact.cons] {\tcode{radial_brush_factory} constructors and assignment operators}

\indexlibrary{\idxcode{radial_brush_factory}!constructor}
\begin{itemdecl}
    radial_brush_factory() noexcept;
\end{itemdecl}
\begin{itemdescr}
	\pnum
	\effects
	Constructs an object of type \tcode{radial_brush_factory}.
	
	\pnum
	\postconditions
	\tcode{_Center0 == vector_2d\{ \}}.

	\pnum
	\tcode{_Radius0 == 0.0}.

	\pnum
	\tcode{_Center1 == vector_2d\{ \}}.
	
	\pnum
	\tcode{_Radius1 == 0.0}.

	\pnum
	\tcode{_Color_stops.empty() == true}.
	
\end{itemdescr}

\indexlibrary{\idxcode{radial_brush_factory}!constructor}
\begin{itemdecl}
    radial_brush_factory(const vector_2d& center0, double radius0,
      const vector_2d& center1, double radius1) noexcept;
\end{itemdecl}
\begin{itemdescr}
	\pnum
	\effects
	Constructs an object of type \tcode{radial_brush_factory}.
	
	\pnum
	\postconditions
	\tcode{_Center0 == center0}.

	\pnum
	\tcode{_Radius0 == radius0}.

	\pnum
	\tcode{_Center1 == center1}.
	
	\pnum
	\tcode{_Radius1 == radius1}.

	\pnum
	\tcode{_Color_stops.empty() == true}.
	
\end{itemdescr}

\rSec1 [radialbrushfact.modifiers] {\tcode{radial_brush_factory} modifiers}

\indexlibrary{\idxcode{radial_brush_factory}!\idxcode{add_color_stop}}
\indexlibrary{\idxcode{add_color_stop}!\idxcode{radial_brush_factory}}
\begin{itemdecl}
    void add_color_stop(double offset, const rgba_color& color);
    void add_color_stop(double offset, const rgba_color& color,
      error_code& ec) noexcept;
\end{itemdecl}
\begin{itemdescr}
	\pnum
	\effects
	Adds a color stop with an offset value of \tcode{offset} and a color value of \tcode{color}.
	
	\pnum
	\postconditions
	\tcode{_Color_stops.push_back(make_tuple(offset, color))}.
	
	\pnum
	\throws
	As specified in Error reporting (\ref{\iotwod.err.report}).
	
	\pnum
	\errors
	\tcode{errc::not_enough_memory} if the attempt to add the color stop fails.
	
\end{itemdescr}

\indexlibrary{\idxcode{radial_brush_factory}!\idxcode{color_stop}}
\indexlibrary{\idxcode{color_stop}!\idxcode{radial_brush_factory}}
\begin{itemdecl}
    void color_stop(unsigned int index, double offset, const rgba_color& color);
    void color_stop(unsigned int index, double offset, const rgba_color& color,
      error_code& ec) noexcept;
\end{itemdecl}
\begin{itemdescr}
	\pnum
	\requires
	\tcode{_Color_stops.size() > index}.
	
	\pnum
	\effects
	Replaces the color stop at index \tcode{index} with a color stop with an offset of \tcode{offset} and a color of \tcode{color}.

	\pnum
	\postconditions
	\tcode{_Color_stops.at(index) == make_tuple(offset, color)}.
	
	\pnum
	\throws
	As specified in Error reporting (\ref{\iotwod.err.report}).
	
	\pnum
	\errors
	\tcode{io2d_error::invalid_index} if \tcode{index} violated the preconditions.

\end{itemdescr}

\indexlibrary{\idxcode{radial_brush_factory}!\idxcode{radial_circles}}
\indexlibrary{\idxcode{radial_circles}!\idxcode{radial_brush_factory}}
\begin{itemdecl}
    void radial_circles(const vector_2d& center0, double radius0,
      const vector_2d& center1, double radius1) noexcept;
\end{itemdecl}
\begin{itemdescr}
	\pnum
	\postconditions
	\tcode{_Center0 == center0}.
	
	\pnum
	\tcode{_Radius0 == radius0}.
	
	\pnum
	\tcode{_Center1 == center1}.

	\pnum
	\tcode{_Radius1 == radius1}.

\end{itemdescr}

\rSec1 [radialbrushfact.observers] {\tcode{radial_brush_factory} observers}

\indexlibrary{\idxcode{radial_brush_factory}!\idxcode{color_stop_count}}
\indexlibrary{\idxcode{color_stop_count}!\idxcode{radial_brush_factory}}
\begin{itemdecl}
    unsigned int color_stop_count() const noexcept;
\end{itemdecl}
\begin{itemdescr}
	\pnum
	\returns
	\tcode{static_cast<unsigned int>(_Color_stops.size())}.

\end{itemdescr}

\indexlibrary{\idxcode{radial_brush_factory}!\idxcode{color_stop}}
\indexlibrary{\idxcode{color_stop}!\idxcode{radial_brush_factory}}
\begin{itemdecl}
    tuple<double, rgba_color> color_stop(unsigned int index) const;
    tuple<double, rgba_color> color_stop(unsigned int index,
      error_code& ec) const noexcept;
\end{itemdecl}
\begin{itemdescr}
	\pnum
	\returns
	\tcode{_Color_stops.at(index)}.

	\pnum
	\throws
	As specified in Error reporting (\ref{\iotwod.err.report}).
	
	\pnum
	\errors
	\tcode{io2d_error::invalid_index} if \tcode{_Color_stops.size() <= index}.

\end{itemdescr}

\indexlibrary{\idxcode{radial_brush_factory}!\idxcode{radial_circles}}
\indexlibrary{\idxcode{radial_circles}!\idxcode{radial_brush_factory}}
\begin{itemdecl}
    tuple<vector_2d, double, vector_2d, double> radial_circles() const noexcept;
\end{itemdecl}
\begin{itemdescr}
	\pnum
	\returns
	\tcode{make_tuple(_Center0, _Radius0, _Center1, _Radius1)}.

\end{itemdescr}
