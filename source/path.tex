%!TEX root = io2d.tex
\rSec0 [\iotwod.path] {Class \tcode{path}}

\rSec1 [\iotwod.path.intro] {\tcode{path} Description}

\pnum
\indexlibrary{\idxcode{path}}%
The \tcode{path} class is an immutable representation of one or 
more geometric paths, which are created using the functionality of the 
\tcode{path_factory} class~(\ref{\iotwod.pathfactory}).

\pnum
When a \tcode{path} object is set on a \tcode{surface} object using 
\tcode{surface::path}, the geometric paths represented by it can be 
stroked or filled.

\rSec1 [\iotwod.path.synopsis] {\tcode{path} synopsis}

\begin{codeblock}
namespace std { namespace experimental { namespace io2d { inline namespace v1 {
  class path {
    public:
    // \ref{\iotwod.path.cons}, construct/copy/destroy:
    path() = delete;
    path(const path_factory& pb, const surface& sf);
    path(const path& other);
    path& operator=(const path& other);
    path(path&& other);
    path& operator=(path&& other);

    // \ref{\iotwod.path.observers}, observers:
    vector<unique_ptr<path_data>> data() const;
    const vector<unique_ptr<path_data>>& data_ref() const;
    rectangle path_extents() const;
    
  private:
    shared_ptr<vector<unique_ptr<path_data>>> _Data; // \expos
    bool _Has_current_point;                         // \expos
    point _Current_point;                            // \expos
    point _Last_move_to_point;                       // \expos
    rectangle _Extents;                              // \expos
  };
} } } }
\end{codeblock}

\rSec1 [\iotwod.path.cons] {\tcode{path} constructors and assignment operators}

\indexlibrary{\idxcode{path}!constructor}
\begin{itemdecl}
	path(const path_factory& pb, const surface& sf);
\end{itemdecl}
\begin{itemdescr}
	\pnum
	\effects
	Constructs an object of class \tcode{path} from a \tcode{path_factory} 
	object's observable state.
\end{itemdescr}

\rSec1 [\iotwod.path.observers] {\tcode{path} observers}

\indexlibrary{\idxcode{path}!\idxcode{path_extents}}%
\indexlibrary{\idxcode{path_extents}!\idxcode{path}}%
\begin{itemdecl}
rectangle path_extents() const;
\end{itemdecl}
\begin{itemdescr}
	\pnum
	\returns
	The smallest \tcode{rectangle} that can contain the points contained in the 
	\tcode{path_data} of \tcode{*this}.
	
	\pnum
	\remarks
	When determining the return value of this function, each point should be 
	transformed in the way described in \ref{\iotwod.surface.pathtransform}.
\end{itemdescr}

\rSec2 [\iotwod.path::get_data] {\tcode{path::get_data}}

\indexlibrary{\idxcode{path}!\idxcode{get_data}}%
\indexlibrary{\idxcode{get_data}!\idxcode{path}}%
\begin{itemdecl}
::std::vector<path_data> get_data() const;
\end{itemdecl}
\begin{itemdescr}
	\pnum
	\returns
	A copy of the \tcode{vector<path_data>} stored by \tcode{*this}.
\end{itemdescr}

\rSec2 [\iotwod.path::get_data_ref] {\tcode{path::get_data_ref}}

\indexlibrary{\idxcode{path}!\idxcode{get_data_ref}}%
\indexlibrary{\idxcode{get_data_ref}!\idxcode{path}}%
\begin{itemdecl}
const ::std::vector<path_data>& get_data_ref() const;
\end{itemdecl}
\begin{itemdescr}
	\pnum
	\returns
	A const reference to the \tcode{vector<path_data>} stored by \tcode{*this}.
\end{itemdescr}
