%!TEX root = io2d.tex

\rSec2 [\iotwod.graphsurf.reqs.surfaces]{\tcode{surfaces} requirements}

\pnum
Let \tcode{X} be a \graphicssurfacestemplparam type.

\pnum
Let \tcode{G} be a \graphicsmathtemplparam type.

\pnum
Let \tcode{IM} be an object of \unspec{} type that contains visual data.

\pnum
Let \tcode{OU} be an output surface of \unspec{} type that provides all functionality needed to display visual data.

\pnum
Let \tcode{UN} be an output surface of \unspec{} type that provides all functionality needed to display visual data.

\pnum
The types \tcode{OU} and \tcode{UN} may be the same type.

\pnum
What constitutes an output surface is \impldef{output surface}.
\begin{note}
The implementer in this case is the provider of a type that meets the requirements of a \graphicssurfacestemplparam type.
\end{note}

\pnum
Table~\ref{tab:\iotwod.graphsurf.surfs.requirementstab} describes the observable effects of the member functions of \tcode{X::surfaces}.

\pnum
Table~\ref{tab:\iotwod.graphsurf.surfs.typedefnamestab} defines the required \grammarterm{typedef-name}{s} in \tcode{X::surfaces}, which are identifiers for class types capable of storing all data required to support the corresponding class template.

\begin{libreqtab2}{\tcode{X::surfaces} typedef-names}{tab:\iotwod.graphsurf.surfs.typedefnamestab}
\\ \topline
\lhdr{\grammarterm{typedef-name}}       &
\rhdr{Class data}   \\ \capsep
\endfirsthead
\continuedcaption\\
\topline
\lhdr{\grammarterm{typedef-name}}       &
\rhdr{Class template}   \\ \capsep
\endhead
\tcode{image_surface_data_type}	&
\tcode{basic_image_surface}	\\ \rowsep
\tcode{output_surface_data_type}	&
\tcode{basic_output_surface}	\\ \rowsep
\tcode{unmanaged_output_surface_data_type}	&
\tcode{basic_unmanaged_output_surface}	\\
\end{libreqtab2}

\pnum
In Table~\ref{tab:\iotwod.graphsurf.surfs.requirementstab}, \tcode{I} denotes the type \tcode{image_surface_data_type}, \tcode{O} denotes the type \tcode{output_surface_data_type}, \tcode{U} denotes the type \tcode{unmanaged_output_surface_data_type}, \tcode{BB} denotes the type \tcode{basic_bounding_box<G>}, \tcode{IP} denotes the type \tcode{basic_interpreted_path<X>}, \tcode{FI} denotes the type \tcode{basic_figure_items<X>::figure_item}, \tcode{M} denotes the type \tcode{basic_matrix_2d<G>}, and \tcode{P} denotes the type \tcode{basic_point_2d<G>}.

\pnum
In order to describe the observable effects of functions contained in Table~\ref{tab:\iotwod.graphsurf.surfs.requirementstab}, Table~\ref{tab:\iotwod.graphsurf.surfs.typememberdata} describes the types contained in \tcode{X} as-if they possessed certain member data. 

\begin{libiotwodreqtab3f}{\tcode{X::surfaces} type member data}{tab:\iotwod.graphsurf.surfs.typememberdata}
\\ \topline
\lhdr{Type}		&	\chdr{Member data}	&	\rhdr{Member data type} \\ \capsep
\endfirsthead
\topline
\lhdr{Type}		&	\chdr{Member data}	&	\rhdr{Member data type} \\ \capsep
\endhead
\tcode{image_surface_data_type}	&
\tcode{im}	&
\tcode{IM}	\\ \rowsep
\tcode{output_surface_data_type}	&
\tcode{ou}	&
\tcode{OU}	\\ \rowsep
\tcode{unmanaged_output_surface_data_type}	&
\tcode{un}	&
\tcode{UN}	\\
\end{libiotwodreqtab3f}

\pnum
\begin{note}
In the same way that \tcode{stdin}, \tcode{stdout}, and \tcode{stderr} do not specify how they meet the requirements placed on them, the requirements set forth in Table~\ref{tab:\iotwod.graphsurf.surfs.requirementstab} also do not specify such details.
\end{note}

\begin{libreqtab4d}
{Graphics surfaces requirements}
{tab:\iotwod.graphsurf.surfs.requirementstab}
\\ \topline
\lhdr{Expression}       &   \chdr{Return type}  &   \chdr{Operational}  &
\rhdr{Assertion/note}   \\
    &   &   \chdr{semantics}    &   \rhdr{pre-/post-condition}   \\ \capsep
\endfirsthead
\continuedcaption\\
\topline
\lhdr{Expression}       &   \chdr{Return type}  &   \chdr{Operational}  &
\rhdr{Assertion/note}   \\
    &   &   \chdr{semantics}    &   \rhdr{pre-/post-condition}   \\ \capsep
\endhead
%
% image_surface
%
\tcode{X::surfaces::create_image_surface(format f, int w, int h)}	&
\tcode{I}	&
\returns An object \tcode{i}.	&
\requires
\tcode{w > 0}, \tcode{w <= max_dimensions().x()}, \tcode{h > 0}, and \tcode{h <= max_dimensions().y()}.\newline%
\postconditions
The bounds of \tcode{i.im} are \range{0}{w} along the \xaxis and \range{0}{h} along the y axis. The visual data format of \tcode{i.im} is \tcode{f}.
%Sampling from any point within the bounds of \tcode{i.im} produces visual data that is the equivalent of \tcode{rgba_color::transparent_black} in the visual data format \tcode{f}.
	\\ \rowsep
\tcode{X::surfaces::create_image_surface(filesystem::path f, image_file_format iff, format fmt)}	&
\tcode{I}	&
\returns An object \tcode{i}.	&
\requires \tcode{f} is a file and the contents of \tcode{f} are valid data in the data format (\ref{\iotwod.imagefileformat.summary}) specified by \tcode{iff}.\newline%
\postconditions
<TODO>	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
%
% max_display_dimensions
%
\tcode{max_display_dimensions()}	&
	&
	&
	\\ \rowsep
%
% output_surface
%
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
%
% unmanaged_output_surface
%
\tcode{X::surfaces::create_unmanaged_output_surface(/* \impdef */)}	&
\tcode{UN}	&
All details of this function other than its name and return type are \impldef{create_unmanaged_output_surface}. It is not required that this function be provided by an implementation. This function may be overloaded.	&
\begin{note}
This function exists to allow users to take an existing output device, such as a window or a smart phone display, and draw to it using this library via the \tcode{basic_unmanaged_output_surface} class template. Implementers are not required to support this functionality; among other reasons, it may be impossible to provide it on certain platforms. If this function is not provided, it is impossible for the \tcode{basic_unmanaged_output_surface} class template to be instantiated.
\end{note}	\\ \rowsep
\tcode{%
template <class F>\newline%
X::surfaces::draw_callback(UN\& un, F\&\& f)}	&
\tcode{void}	&
<TODO>	&
\requires
\tcode{f} shall be \tcode{CopyConstructible}.
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\ \rowsep
	&
	&
	&
	\\
\end{libreqtab4d}
