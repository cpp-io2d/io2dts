%!TEX root = io2d.tex
\rSec0 [\iotwod.filter] {Enum class \tcode{filter}}

\rSec1 [\iotwod.filter.summary] {\tcode{filter} Summary}

\pnum
The \tcode{filter} enum class specifies the type of filter to use when sampling from a \pixmap.

\pnum
Three of the \tcode{filter} enumerators, \tcode{filter::fast}, \tcode{filter::good}, and \tcode{filter::best}, specify desired characteristics of the filter, leaving the choice of a specific filter to the implementation. 

The other two, \tcode{filter::nearest} and \tcode{filter::bilinear}, each specify a particular filter that shall be used.

\pnum
\begin{note}
The only type of brush that has a \pixmap as its \underlyingsurface is a brush with a brush type of \tcode{brush_type::surface}.
\end{note}

\pnum
See Table~\ref{tab:\iotwod.filter.meanings} for the meaning of each
\tcode{filter} enumerator.

\rSec1 [\iotwod.filter.synopsis] {\tcode{filter} Synopsis}

\begin{codeblock}
namespace std::experimental::io2d::v1 {
  enum class filter {
    fast,
    good,
    best,
    nearest,
    bilinear
  };
}
\end{codeblock}

\rSec1 [\iotwod.filter.enumerators] {\tcode{filter} Enumerators}
\begin{libreqtab2}
 {\tcode{filter} enumerator meanings}
 {tab:\iotwod.filter.meanings}
 \\ \topline
 \lhdr{Enumerator}
 & \rhdr{Meaning}
 \\ \capsep
 \endfirsthead
 \continuedcaption\\
 \hline
 \lhdr{Enumerator}
 & \rhdr{Meaning}
 \\ \capsep
 \endhead
 \tcode{fast}
 & The filter that corresponds to this value is \impldefplain{filter!fast}. The implementation shall ensure that the time complexity of the chosen filter is not greater than the time complexity of the filter that corresponds to \tcode{filter::good}.
 \begin{note}
 By choosing this value, the user is hinting that performance is more important than quality.
 \end{note}
 \\
 \tcode{good}
 & The filter that corresponds to this value is \impldefplain{filter!good}. The implementation shall ensure that the time complexity of the chosen formula is not greater than the time complexity of the formula for \tcode{filter::best}.
 \begin{note}
 By choosing this value, the user is hinting that quality and performance are equally important.
 \end{note}
 \\
 \tcode{best}
 & The filter that corresponds to this value is \impldefplain{filter!best}.
 \begin{note}
 By choosing this value, the user is hinting that quality is more important 
 than performance.
 \end{note}
 \\
 \tcode{nearest}
 & Nearest-neighbor interpolation filtering shall be used.
% The color of the pixel whose coordinates are nearest to the requested coordinates shall be produced. When two or more pixels are equally near to the requested coordinates, it is unspecified which of the equally near pixels shall be the pixel whose color shall be produced.
 \\
 \tcode{bilinear}
 & Bilinear interpolation filtering shall be used.
% The distance-weighted average of the four nearest pixels is used to create an interpolated color for the destination pixel. If some source pixel values do not exist (e.g. because an edge or corner of the source has been reached) then the current \tcode{wrap_mode} should be considered in order to determine the values for the missing source pixels. If a hardware sampler is available and offers bilinear filtering, implementations may use it even if its results do not conform to those produced by the description of bilinear filtering provided by this standard.% Whether mipmapping is used and whether mipmaps are generated for sources that do not have them is \impldefplain{filter!bilinear mipmapping}.
 \\
\end{libreqtab2}
