%!TEX root = io2d.tex

\rSec0 [\iotwod.paths.items.intro] {Introduction}

\pnum
The member classes of the class template \tcode{basic_figure_items} describe figure items.

\pnum
A figure begins with an \tcode{abs_new_figure} or \tcode{rel_new_figure} object. A figure ends when:

\begin{itemize}
\item a \tcode{close_figure} object is encountered;
\item a \tcode{abs_new_figure} or \tcode{rel_new_figure} object is encountered; or
\item there are no more figure items in the path.
\end{itemize}

\pnum
The \tcode{basic_path_builder} class is a sequential container that contains a path. It provides a simple interface for building a path but a path can be created using any container that stores \tcode{basic_figure_items::figure_item} objects.

\rSec0 [\iotwod.paths.items.synopsis] {\tcode{basic_figure_items} synopsis}

\begin{codeblock}
namespace std::experimental::io2d::v1 {
  template <class GraphicsSurfaces>
  class basic_figure_items {
  public:
    class abs_new_figure;
    class rel_new_figure;
    class close_figure;
    class abs_matrix;
    class rel_matrix;
    class revert_matrix;
    class abs_cubic_curve;
    class abs_line;
    class abs_quadratic_curve;
    class arc;
    class rel_cubic_curve;
    class rel_line;
    class rel_quadratic_curve;

    class abs_new_figure {
    public:
      // \ref{\iotwod.absnewfigure.cons}, construct:
      abs_new_figure();
      explicit abs_new_figure(const basic_point_2d<typename
      GraphicsSurfaces::graphics_math_type>& pt);
      abs_new_figure(const abs_new_figure& other);
      abs_new_figure(abs_new_figure&& other) noexcept;
      abs_new_figure& operator=(const abs_new_figure& other);
      abs_new_figure& operator=(abs_new_figure&& other) noexcept;

      // \ref{\iotwod.absnewfigure.modifiers}, modifiers:
      void at(const basic_point_2d<typename GraphicsSurfaces::graphics_math_type>& pt) noexcept;

      // \ref{\iotwod.absnewfigure.observers}, observers:
      basic_point_2d<typename GraphicsSurfaces::graphics_math_type> at() const noexcept;
    };

    class rel_new_figure {
    public:
      // \ref{\iotwod.relnewfigure.cons}, construct:
      rel_new_figure() noexcept;
      explicit rel_new_figure(const basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type>& pt) noexcept;
      rel_new_figure(const rel_new_figure& other);
      rel_new_figure& operator=(const rel_new_figure& other);
      rel_new_figure(rel_new_figure&& other) noexcept;
      rel_new_figure& operator=(rel_new_figure&& other) noexcept;

      // \ref{\iotwod.relnewfigure.modifiers}, modifiers:
      void at(const basic_point_2d<typename GraphicsSurfaces::graphics_math_type>& pt) noexcept;

      // \ref{\iotwod.relnewfigure.observers}, observers:
      basic_point_2d<typename GraphicsSurfaces::graphics_math_type> at() const noexcept;
    };

    class close_figure {
    public:
      // \ref{\iotwod.closefigure.cons}, construct:
      constexpr close_figure() noexcept;
    };

    class abs_matrix {
	public:
      // \ref{\iotwod.absmatrix.cons}, construct:
      abs_matrix() noexcept;
      explicit abs_matrix(const matrix_2d& m);
      abs_matrix& operator=(const abs_matrix& other);
      abs_matrix(abs_matrix&& other) noexcept;
      abs_matrix& operator=(abs_matrix&& other) noexcept;
	
      // \ref{\iotwod.absmatrix.modifiers}, modifiers:
      void matrix(const basic_matrix_2d<typename
        GraphicsSurfaces::graphics_math_type>& m) noexcept;
	
      // \ref{\iotwod.absmatrix.observers}, observers:
      basic_matrix_2d<typename GraphicsSurfaces::graphics_math_type> matrix() const noexcept;
    };

    class rel_matrix {
    public:
      // \ref{\iotwod.relmatrix.cons}, construct:
      rel_matrix() noexcept;
      explicit rel_matrix(const basic_matrix_2d<typename
        GraphicsSurfaces::graphics_math_type>& m) noexcept;
      rel_matrix(const rel_matrix& other);
      rel_matrix& operator=(const rel_matrix& other);
      rel_matrix(rel_matrix&& other) noexcept;
      rel_matrix& operator=(rel_matrix&& other) noexcept;

      // \ref{\iotwod.relmatrix.modifiers}, modifiers:
      void matrix(const basic_matrix_2d<typename
        GraphicsSurfaces::graphics_math_type>& m) noexcept;
	
      // \ref{\iotwod.relmatrix.observers}, observers:
      basic_matrix_2d<typename GraphicsSurfaces::graphics_math_type> matrix() const noexcept;
    };

    class revert_matrix {
    public:
      // \ref{\iotwod.revertmatrix.cons}, construct:
      revert_matrix() noexcept;
    };

    using figure_item = variant<abs_cubic_curve, abs_line, abs_matrix, abs_new_figure,
      abs_quadratic_curve, arc, close_figure, rel_cubic_curve, rel_line, rel_matrix,
      rel_new_figure, rel_quadratic_curve, revert_matrix>;
  };

  // \ref{\iotwod.absnewfigure.ops}, abs_new_figure operators:
  template <class GraphicsSurfaces>
  bool operator==(const typename basic_figure_items<GraphicsSurfaces>::abs_new_figure& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::abs_new_figure& rhs) noexcept;
  template <class GraphicsSurfaces>
  bool operator!=(const typename basic_figure_items<GraphicsSurfaces>::abs_new_figure& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::abs_new_figure& rhs) noexcept;
  
  // \ref{\iotwod.relnewfigure.ops}, rel_new_figure operators:
  template <class GraphicsSurfaces>
  bool operator==(const typename basic_figure_items<GraphicsSurfaces>::rel_new_figure& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::rel_new_figure& rhs) noexcept;
  template <class GraphicsSurfaces>
  bool operator!=(const typename basic_figure_items<GraphicsSurfaces>::rel_new_figure& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::rel_new_figure& rhs) noexcept;

  // \ref{\iotwod.closefigure.ops}, close_figure operators:
  template <class GraphicsSurfaces>
  bool operator==(const typename basic_figure_items<GraphicsSurfaces>::close_figure& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::close_figure& rhs) noexcept;
  template <class GraphicsSurfaces>
  bool operator!=(const typename basic_figure_items<GraphicsSurfaces>::close_figure& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::close_figure& rhs) noexcept;

  // \ref{\iotwod.absmatrix.ops}, abs_matrix operators:
  template <class GraphicsSurfaces>
  bool operator==(const typename basic_figure_items<GraphicsSurfaces>::abs_matrix& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::abs_matrix& rhs) noexcept;
  template <class GraphicsSurfaces>
  bool operator!=(const typename basic_figure_items<GraphicsSurfaces>::abs_matrix& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::abs_matrix& rhs) noexcept;

  // \ref{\iotwod.relmatrix.ops}, rel_matrix operators:
  template <class GraphicsSurfaces>
  bool operator==(const typename basic_figure_items<GraphicsSurfaces>::rel_matrix& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::rel_matrix& rhs) noexcept;
  template <class GraphicsSurfaces>
  bool operator!=(const typename basic_figure_items<GraphicsSurfaces>::rel_matrix& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::rel_matrix& rhs) noexcept;

  // \ref{\iotwod.revertmatrix.ops}, revert_matrix operators:
  template <class GraphicsSurfaces>
  bool operator==(const typename basic_figure_items<GraphicsSurfaces>::revert_matrix& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::revert_matrix& rhs) noexcept;
  template <class GraphicsSurfaces>
  bool operator!=(const typename basic_figure_items<GraphicsSurfaces>::revert_matrix& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::revert_matrix& rhs) noexcept;

  template <class GraphicsSurfaces>
  bool operator==(const typename basic_figure_items<GraphicsSurfaces>::abs_line& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::abs_line& rhs) noexcept;
  template <class GraphicsSurfaces>
  bool operator!=(const typename basic_figure_items<GraphicsSurfaces>::abs_line& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::abs_line& rhs) noexcept;
  template <class GraphicsSurfaces>
  bool operator==(const typename basic_figure_items<GraphicsSurfaces>::rel_line& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::rel_line& rhs) noexcept;
  template <class GraphicsSurfaces>
  bool operator!=(const typename basic_figure_items<GraphicsSurfaces>::rel_line& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::rel_line& rhs) noexcept;
  template <class GraphicsSurfaces>
  bool operator==(const typename basic_figure_items<GraphicsSurfaces>::abs_quadratic_curve& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::abs_quadratic_curve& rhs) noexcept;
  template <class GraphicsSurfaces>
  bool operator!=(const typename basic_figure_items<GraphicsSurfaces>::abs_quadratic_curve& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::abs_quadratic_curve& rhs) noexcept;
  template <class GraphicsSurfaces>
  bool operator==(const typename basic_figure_items<GraphicsSurfaces>::rel_quadratic_curve& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::rel_quadratic_curve& rhs) noexcept;
  template <class GraphicsSurfaces>
  bool operator!=(const typename basic_figure_items<GraphicsSurfaces>::rel_quadratic_curve& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::rel_quadratic_curve& rhs) noexcept;
  template <class GraphicsSurfaces>
  bool operator==(const typename basic_figure_items<GraphicsSurfaces>::abs_cubic_curve& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::abs_cubic_curve& rhs) noexcept;
  template <class GraphicsSurfaces>
  bool operator!=(const typename basic_figure_items<GraphicsSurfaces>::abs_cubic_curve& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::abs_cubic_curve& rhs) noexcept;
  template <class GraphicsSurfaces>
  bool operator==(const typename basic_figure_items<GraphicsSurfaces>::rel_cubic_curve& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::rel_cubic_curve& rhs) noexcept;
  template <class GraphicsSurfaces>
  bool operator!=(const typename basic_figure_items<GraphicsSurfaces>::rel_cubic_curve& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::rel_cubic_curve& rhs) noexcept;
  template <class GraphicsSurfaces>
  bool operator==(const typename basic_figure_items<GraphicsSurfaces>::arc& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::arc& rhs) noexcept;
  template <class GraphicsSurfaces>
  bool operator!=(const typename basic_figure_items<GraphicsSurfaces>::arc& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::arc& rhs) noexcept;
}
\end{codeblock}