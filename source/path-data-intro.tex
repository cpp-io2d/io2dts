%!TEX root = io2d.tex

\rSec0 [\iotwod.paths.figureitems.intro] {Introduction}

\pnum
The nested classes within the class template \tcode{basic_figure_items} describe figure items.

\pnum
A figure begins with an \tcode{abs_new_figure} or \tcode{rel_new_figure} object. A figure ends when:

\begin{itemize}
\item a \tcode{close_figure} object is encountered;
\item a \tcode{abs_new_figure} or \tcode{rel_new_figure} object is encountered; or
\item there are no more figure items in the path.
\end{itemize}

\pnum
The \tcode{basic_path_builder} class is a sequential container that contains a path. It provides a simple interface for building a path but a path can be created using any container that stores \tcode{basic_figure_items::figure_item} objects.

\rSec0 [\iotwod.paths.figureitems.synopsis] {Synopsis}

\begin{codeblock}
namespace std::experimental::io2d::v1 {
  template <class GraphicsSurfaces>
  class basic_figure_items {
  public:
    class abs_new_figure;
    class rel_new_figure;
    class close_figure;
    class abs_matrix;
    class rel_matrix;
    class revert_matrix;
    class abs_cubic_curve;
    class abs_line;
    class abs_quadratic_curve;
    class arc;
    class rel_cubic_curve;
    class rel_line;
    class rel_quadratic_curve;

    using figure_item = variant<abs_cubic_curve, abs_line, abs_matrix,
      abs_new_figure, abs_quadratic_curve, arc, close_figure, rel_cubic_curve, 
      rel_line, rel_matrix, rel_new_figure, rel_quadratic_curve, revert_matrix>;

    class abs_new_figure {
    public:
      // \ref{\iotwod.absnewfigure.ctor}, construct:
      abs_new_figure() noexcept;
      explicit abs_new_figure(const basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type>& pt);
      abs_new_figure(const abs_matrix& other) noexcept;
      abs_new_figure(abs_matrix&& other) noexcept;

      // assign:
      abs_new_figure& operator=(const abs_new_figure& other);
      abs_new_figure& operator=(abs_new_figure&& other) noexcept;
	
      // \ref{\iotwod.absnewfigure.mod}, modifiers:
      void at(const basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type>& pt) noexcept;
	
      // \ref{\iotwod.absnewfigure.obs}, observers:
      basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type> at() const noexcept;
    };

    class rel_new_figure {
    public:
      // \ref{\iotwod.relnewfigure.ctor}, construct:
      rel_new_figure() noexcept;
      explicit rel_new_figure(const basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type>& pt);
      rel_new_figure(const rel_matrix& other) noexcept;
      rel_new_figure(rel_matrix&& other) noexcept;

      // assign:
      rel_new_figure& operator=(const rel_new_figure& other);
      rel_new_figure& operator=(rel_new_figure&& other) noexcept;
	
      // \ref{\iotwod.relnewfigure.mod}, modifiers:
      void at(const basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type>& pt) noexcept;
	
      // \ref{\iotwod.relnewfigure.obs}, observers:
      basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type> at() const noexcept;
    };

    class close_figure {
    public:
      // construct:
      revert_matrix() noexcept;
    };

    class abs_matrix {
    public:
      // \ref{\iotwod.absmatrix.ctor}, construct:
      abs_matrix() noexcept;
      explicit abs_matrix(const basic_matrix_2d<typename
        GraphicsSurfaces::graphics_math_type>& m) noexcept;
      abs_matrix(const abs_matrix& other);
      abs_matrix(abs_matrix&& other) noexcept;

      // assign:
      abs_matrix& operator=(const abs_matrix& other);
      abs_matrix& operator=(abs_matrix&& other) noexcept;

      // \ref{\iotwod.absmatrix.mod}, modifiers:
      void matrix(const basic_matrix_2d<typename
        GraphicsSurfaces::graphics_math_type>& m) noexcept;
	
      // \ref{\iotwod.absmatrix.obs}, observers:
      basic_matrix_2d<typename
        GraphicsSurfaces::graphics_math_type> matrix() const noexcept;
    };

    class rel_matrix {
    public:
      // \ref{\iotwod.relmatrix.ctor}, construct:
      rel_matrix() noexcept;
      explicit rel_matrix(const basic_matrix_2d<typename
        GraphicsSurfaces::graphics_math_type>& m) noexcept;
      rel_matrix(const rel_matrix& other);
      rel_matrix(rel_matrix&& other) noexcept;

      // assign:
      rel_matrix& operator=(const rel_matrix& other);
      rel_matrix& operator=(rel_matrix&& other) noexcept;

      // \ref{\iotwod.relmatrix.mod}, modifiers:
      void matrix(const basic_matrix_2d<typename
        GraphicsSurfaces::graphics_math_type>& m) noexcept;
	
      // \ref{\iotwod.relmatrix.obs}, observers:
      basic_matrix_2d<typename
        GraphicsSurfaces::graphics_math_type> matrix() const noexcept;
    };

    class revert_matrix {
    public:
      // construct:
      revert_matrix() noexcept;
    };

    class abs_line {
    public:
      // \ref{\iotwod.absline.ctor}, construct:
      abs_line() noexcept;
      explicit abs_line(const basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type>& pt) noexcept;
      abs_line(const abs_line& other);
      abs_line(abs_line&& other) noexcept;

      // assign:
      abs_line& operator=(const abs_line& other);
      abs_line& operator=(abs_line&& other) noexcept;

      // \ref{\iotwod.absline.mod}, modifiers:
      void to(const basic_point_2d<typename GraphicsSurfaces::graphics_math_type>& pt) noexcept;

      // \ref{\iotwod.absline.obs}, observers:
      basic_point_2d<typename GraphicsSurfaces::graphics_math_type> to() const noexcept;
    };

    class rel_line {
    public:
      // \ref{\iotwod.relline.ctor}, construct:
      rel_line() noexcept;
      explicit rel_line(const basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type>& pt) noexcept;
      rel_line(const rel_line& other);
      rel_line(rel_line&& other) noexcept;

      // assign:
      rel_line& operator=(rel_line&& other) noexcept;
      rel_line& operator=(const rel_line& other);

      // \ref{\iotwod.relline.mod}, modifiers:
      void to(const basic_point_2d<typename GraphicsSurfaces::graphics_math_type>& pt) noexcept;

      // \ref{\iotwod.relline.obs}, observers:
      basic_point_2d<typename GraphicsSurfaces::graphics_math_type> to() const noexcept;
    };

    class abs_quadratic_curve {
    public:
      // \ref{\iotwod.absquadraticcurve.ctor}, construct:
      abs_quadratic_curve() noexcept;
      abs_quadratic_curve(const basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type>& cpt, const basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type>& ept) noexcept;
      abs_quadratic_curve(const abs_quadratic_curve& other);
      abs_quadratic_curve(abs_quadratic_curve&& other) noexcept;

      // assign:
      abs_quadratic_curve& operator=(abs_quadratic_curve&& other) noexcept;
      abs_quadratic_curve& operator=(const abs_quadratic_curve& other);

      // \ref{\iotwod.absquadraticcurve.mod}, modifiers:
      void control_pt(const basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type>& cpt) noexcept;
      void end_pt(const basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type>& ept) noexcept;

      // \ref{\iotwod.absquadraticcurve.obs}, observers:
      basic_point_2d<typename GraphicsSurfaces::graphics_math_type> control_pt() const noexcept;
      basic_point_2d<typename GraphicsSurfaces::graphics_math_type> end_pt() const noexcept;
    };

    class rel_quadratic_curve {
    public:
      // \ref{\iotwod.relquadraticcurve.ctor}, construct:
      rel_quadratic_curve() noexcept;
      rel_quadratic_curve(const basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type>& cpt, const basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type>& ept) noexcept;
      rel_quadratic_curve(const rel_quadratic_curve& other);
      rel_quadratic_curve(rel_quadratic_curve&& other) noexcept;

      // assign:
      rel_quadratic_curve& operator=(rel_quadratic_curve&& other) noexcept;
      rel_quadratic_curve& operator=(const rel_quadratic_curve& other);

      // \ref{\iotwod.relquadraticcurve.mod}, modifiers:
      void control_pt(const basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type>& cpt) noexcept;
      void end_pt(const basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type>& ept) noexcept;

      // \ref{\iotwod.relquadraticcurve.obs}, observers:
      basic_point_2d<typename GraphicsSurfaces::graphics_math_type> control_pt() const noexcept;
      basic_point_2d<typename GraphicsSurfaces::graphics_math_type> end_pt() const noexcept;
    };

    class abs_cubic_curve {
    public:
      // \ref{\iotwod.abscubiccurve.ctor}, construct:
      abs_cubic_curve() noexcept;
      abs_cubic_curve(const basic_point_2d<typename GraphicsSurfaces::graphics_math_type>& cpt1,
        const basic_point_2d<typename GraphicsSurfaces::graphics_math_type>& cpt2,
        const basic_point_2d<typename GraphicsSurfaces::graphics_math_type>& ept) noexcept;
      abs_cubic_curve(const abs_cubic_curve& other);
      abs_cubic_curve(abs_cubic_curve&& other) noexcept;

      // assign:
      abs_cubic_curve& operator=(const abs_cubic_curve& other);
      abs_cubic_curve& operator=(abs_cubic_curve&& other) noexcept;

      // \ref{\iotwod.abscubiccurve.mod}, modifiers:
      void control_pt1(const basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type>& cpt) noexcept;
      void control_pt2(const basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type>& cpt) noexcept;
      void end_pt(const basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type>& ept) noexcept;

      // \ref{\iotwod.abscubiccurve.obs}, observers:
      basic_point_2d<typename GraphicsSurfaces::graphics_math_type> control_pt1() const noexcept;
      basic_point_2d<typename GraphicsSurfaces::graphics_math_type> control_pt2() const noexcept;
      basic_point_2d<typename GraphicsSurfaces::graphics_math_type> end_pt() const noexcept;
    };

    class rel_cubic_curve {
    public:
      // \ref{\iotwod.relcubiccurve.ctor}, construct:
      rel_cubic_curve() noexcept;
      rel_cubic_curve(const basic_point_2d<typename GraphicsSurfaces::graphics_math_type>& cpt1,
      const basic_point_2d<typename GraphicsSurfaces::graphics_math_type>& cpt2,
      const basic_point_2d<typename GraphicsSurfaces::graphics_math_type>& ept) noexcept;
      rel_cubic_curve(const rel_cubic_curve& other);
      rel_cubic_curve(rel_cubic_curve&& other) noexcept;

      // assign:
      rel_cubic_curve& operator=(const rel_cubic_curve& other);
      rel_cubic_curve& operator=(rel_cubic_curve&& other) noexcept;

      // \ref{\iotwod.relcubiccurve.mod}, modifiers:
      void control_pt1(const basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type>& cpt) noexcept;
      void control_pt2(const basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type>& cpt) noexcept;
      void end_pt(const basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type>& ept) noexcept;

      // \ref{\iotwod.relcubiccurve.obs}, observers:
      basic_point_2d<typename GraphicsSurfaces::graphics_math_type> control_pt1() const noexcept;
      basic_point_2d<typename GraphicsSurfaces::graphics_math_type> control_pt2() const noexcept;
      basic_point_2d<typename GraphicsSurfaces::graphics_math_type> end_pt() const noexcept;
    };

    class arc {
    public:
      // \ref{\iotwod.arc.ctor}, construct:
      arc() noexcept;
      arc(const basic_point_2d<typename GraphicsSurfaces::graphics_math_type>& rad, float rot, float sang) noexcept;
      arc(const arc& other);
      arc(arc&& other) noexcept;

      // assign:
      arc& operator=(const arc& other);
      arc& operator=(arc&& other) noexcept;

      // \ref{\iotwod.arc.mod}, modifiers:
      void radius(const basic_point_2d<typename GraphicsSurfaces::graphics_math_type>& rad) noexcept;
      void rotation(float rot) noexcept;
      void start_angle(float sang) noexcept;

      // \ref{\iotwod.arc.obs}, observers:
      basic_point_2d<typename GraphicsSurfaces::graphics_math_type> radius() const noexcept;
      float rotation() const noexcept;
      float start_angle() const noexcept;
      basic_point_2d<typename GraphicsSurfaces::graphics_math_type> center(const basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type>& cpt, const basic_matrix_2d<typename
        GraphicsSurfaces::graphics_math_type>& m = basic_matrix_2d<typename
        GraphicsSurfaces::graphics_math_type>{}) const noexcept;
      basic_point_2d<typename GraphicsSurfaces::graphics_math_type> end_pt(const basic_point_2d<typename
        GraphicsSurfaces::graphics_math_type>& cpt, const basic_matrix_2d<typename
        GraphicsSurfaces::graphics_math_type>& m = basic_matrix_2d<typename
        GraphicsSurfaces::graphics_math_type>{}) const noexcept;
    };

    using figure_item = variant<abs_cubic_curve, abs_line, abs_matrix, abs_new_figure,
      abs_quadratic_curve, arc, close_figure, rel_cubic_curve, rel_line, rel_matrix,
      rel_new_figure, rel_quadratic_curve, revert_matrix>;
  };

  // \ref{\iotwod.absmatrix.eq}, abs_matrix operators:
  template <class GraphicsSurfaces>
  bool operator==(
    const typename basic_figure_items<GraphicsSurfaces>::abs_matrix& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::abs_matrix& rhs) 
    noexcept;
  template <class GraphicsSurfaces>
  bool operator!=(
    const typename basic_figure_items<GraphicsSurfaces>::abs_matrix& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::abs_matrix& rhs) 
    noexcept;

  // \ref{\iotwod.relmatrix.eq}, rel_matrix operators:
  template <class GraphicsSurfaces>
  bool operator==(
    const typename basic_figure_items<GraphicsSurfaces>::rel_matrix& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::rel_matrix& rhs) 
    noexcept;
  template <class GraphicsSurfaces>
  bool operator!=(
    const typename basic_figure_items<GraphicsSurfaces>::rel_matrix& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::rel_matrix& rhs) 
    noexcept;

  // \ref{\iotwod.revertmatrix.eq}, revert_matrix operators:
  template <class GraphicsSurfaces>
  bool operator==(
    const typename basic_figure_items<GraphicsSurfaces>::revert_matrix& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::revert_matrix& rhs) 
    noexcept;
  template <class GraphicsSurfaces>
  bool operator!=(
    const typename basic_figure_items<GraphicsSurfaces>::revert_matrix& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::revert_matrix& rhs) 
    noexcept;

  // \ref{\iotwod.absline.eq}, abs_line operators:
  template <class GraphicsSurfaces>
  bool operator==(
    const typename basic_figure_items<GraphicsSurfaces>::abs_line& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::abs_line& rhs) 
    noexcept;
  template <class GraphicsSurfaces>
  bool operator!=(
    const typename basic_figure_items<GraphicsSurfaces>::abs_line& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::abs_line& rhs) 
    noexcept;

  // \ref{\iotwod.relline.eq}, rel_line operators:
  template <class GraphicsSurfaces>
  bool operator==(
    const typename basic_figure_items<GraphicsSurfaces>::rel_line& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::rel_line& rhs) 
    noexcept;
  template <class GraphicsSurfaces>
  bool operator!=(
    const typename basic_figure_items<GraphicsSurfaces>::rel_line& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::rel_line& rhs) 
    noexcept;

  // \ref{\iotwod.absquadraticcurve.eq}, abs_quadratic_curve operators:
  template <class GraphicsSurfaces>
  bool operator==(const typename
    basic_figure_items<GraphicsSurfaces>::abs_quadratic_curve& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::abs_quadratic_curve& 
    rhs) noexcept;
  template <class GraphicsSurfaces>
  bool operator!=(const typename 
    basic_figure_items<GraphicsSurfaces>::abs_quadratic_curve& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::abs_quadratic_curve& 
    rhs) noexcept;

  // \ref{\iotwod.relquadraticcurve.eq}, rel_quadratic_curve operators:
  template <class GraphicsSurfaces>
  bool operator==(const typename 
    basic_figure_items<GraphicsSurfaces>::rel_quadratic_curve& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::rel_quadratic_curve& 
    rhs) noexcept;
  template <class GraphicsSurfaces>
  bool operator!=(const typename 
    basic_figure_items<GraphicsSurfaces>::rel_quadratic_curve& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::rel_quadratic_curve& 
    rhs) noexcept;

  // \ref{\iotwod.abscubiccurve.eq}, abs_cubic_curve operators:
  template <class GraphicsSurfaces>
  bool operator==(const typename 
    basic_figure_items<GraphicsSurfaces>::abs_cubic_curve& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::abs_cubic_curve& rhs) 
    noexcept;
  template <class GraphicsSurfaces>
  bool operator!=(const typename 
    basic_figure_items<GraphicsSurfaces>::abs_cubic_curve& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::abs_cubic_curve& rhs) 
    noexcept;

  // \ref{\iotwod.relcubiccurve.eq}, rel_cubic_curve operators:
  template <class GraphicsSurfaces>
  bool operator==(const typename 
    basic_figure_items<GraphicsSurfaces>::rel_cubic_curve& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::rel_cubic_curve& rhs) 
    noexcept;
  template <class GraphicsSurfaces>
  bool operator!=(const typename 
    basic_figure_items<GraphicsSurfaces>::rel_cubic_curve& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::rel_cubic_curve& rhs) 
    noexcept;

  // \ref{\iotwod.arc.eq}, arc operators:
  template <class GraphicsSurfaces>
  bool operator==(const typename basic_figure_items<GraphicsSurfaces>::arc& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::arc& rhs) noexcept;
  template <class GraphicsSurfaces>
  bool operator!=(const typename basic_figure_items<GraphicsSurfaces>::arc& lhs,
    const typename basic_figure_items<GraphicsSurfaces>::arc& rhs) noexcept;
}
\end{codeblock}